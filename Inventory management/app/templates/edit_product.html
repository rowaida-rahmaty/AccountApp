{% extends "base.html" %}

{% block title %}Edit Product{% endblock %}

{% block content %}
<div class="container-fluid"> 
    <div class="mx-auto" style="width:600px; border-radius:10px ; background-color: rgba(3, 63, 100, 0.623);">
        <h2 align="center" style="color: aliceblue; margin: 20px; padding: 10px;">Edit Product</h2>
    </div>
    <div class="mx-auto" style="width:600px; border-radius:10px; background-color: rgba(3, 63, 100, 0.623); padding: 20px;">
    
        <form action="{{ url_for('views.edit_product', product_id=product.id) }}" method="POST">
            {{ form.hidden_tag() }} <!-- CSRF protection -->

            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.name.label(class="form-label", style="color: aliceblue;") }}
                {{ form.name(class="form-control") }}
            </div>

            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.description.label(class="form-label", style="color: aliceblue;") }}
                {{ form.description(class="form-control") }}
            </div>
            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.cost.label(class="form-label", style="color: aliceblue;") }}
                {{ form.cost(class="form-control") }}
            </div>

            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.price.label(class="form-label", style="color: aliceblue;") }}
                {{ form.price(class="form-control") }}
            </div>
            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.quantity.label(class="form-label", style="color: aliceblue;") }}
                {{ form.quantity(class="form-control", readonly=True) }}
            </div>            
            <div class="form-group" style="padding-bottom: 15px;">
                {{ form.reorder_level.label(class="form-label", style="color: aliceblue;") }}
                {{ form.reorder_level(class="form-control") }}
            </div>

            <div class="form-group text-center" style="padding-top: 20px;">
                <button type="submit" class="btn btn-primary" style="color: aliceblue; background-color:rgba(3, 63, 100, 0.623); padding: 10px 20px;">Update Product</button>
            </div>
        </form>
    </div>
</div>
<script>
    // Listen for click events on the readonly quantity field
    document.querySelector('input[name="quantity"]').addEventListener('click', function() {
        alert('The quantity field is disabled and cannot be edited.');
    });
</script>
{% endblock %}
